{% extends "layout.html" %}
{% block body %}

  <div class="row">
    <div class="col-md-5">
      {% with messages = get_flashed_messages()  %}
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
      <div class="card card-body">
        <form action="{{url_for('add_contact')}}" method="POST" class="formulario" id="formulario">

          <!-- Grupo: nombre -->
          <div class="formulario__grupo" id="grupo__nombre">
            <label for="nombre" class="formulario__label">Nombre</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="nombre" id="nombre" placeholder="Juan" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">Letras y espacios, pueden llevar acentos.</p>
          </div>
    
          <!-- Grupo: apellido -->
          <div class="formulario__grupo" id="grupo__apellido">
            <label for="apellido" class="formulario__label">Apellido</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="apellido" id="apellido" placeholder="Perez" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">Letras y espacios, pueden llevar acentos.</p>
          </div>
    
          <!-- Grupo: rut -->
          <div class="formulario__grupo" id="grupo__rut">
            <label for="rut" class="formulario__label">RUT</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="rut" id="rut" placeholder="6543210-6" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">12 digitos guion y letra k sin puntos.</p>
          </div>
    
          <!-- Grupo: telefono -->
          <div class="formulario__grupo" id="grupo__telefono">
            <label for="telefono" class="formulario__label">Telefono</label>
            <div class="formulario__grupo-input">
              <input type="number" class="formulario__input" name="telefono" id="telefono" placeholder="+56 987654321" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">+56 987654321</p>
          </div>
    
          <!-- Grupo: Direccion -->
          <div class="formulario__grupo" id="grupo__direccion">
            <label for="direccion" class="formulario__label">Direccion</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="direccion" id="direccion" placeholder="avenida siempre viva 666"required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">Usuario ingresa en el formulario el campo teléfono si acepta letras o símbolos.</p>
          </div>
    
          <!-- Grupo: Ciudad -->
          <div class="formulario__grupo" id="grupo__ciudad">
            <label for="ciudad" class="formulario__label">Ciudad</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="ciudad" id="ciudad" placeholder="chimbarongo" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">Letras y espacios, pueden llevar acentos.</p>
          </div>
                
                <!-- Grupo: email -->
          <div class="formulario__grupo" id="grupo__email">
            <label for="email" class="formulario__label">Email</label>
            <div class="formulario__grupo-input">
              <input type="email" class="formulario__input" name="email" id="email" placeholder="bob@patiño.com" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">El email solo puede contener letras, numeros, puntos, signos</p>
          </div>
    
                 <!-- Grupo: fecha nacimiento -->
          <div class="formulario__grupo" id="grupo__nacimiento">
            <label for="nacimiento" class="formulario__label">Fecha de naciemento</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="born" id="born" placeholder=" dd-mm-aaaa" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">numeros puntos o guion</p>
          </div>
    
                 <!-- Grupo: Estado civil -->
          <div class="formulario__grupo" id="grupo__civil">
            <label for="civil" class="formulario__label">Estado civil</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="ecivil" id="ecivil" placeholder="soltero/casado/viudo" required>
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">El estado civil solo puede contener letras.</p>
          </div>
    
                 <!-- Grupo: Comentarios -->
          <div class="formulario__grupo" id="grupo__comentario">
            <label for="comentarios" class="formulario__label">Comentarios</label>
            <div class="formulario__grupo-input">
              <input type="text" class="formulario__input" name="comentarios" id="comentarios" placeholder="escriba su msj...">
              <i class="formulario__validacion-estado fas fa-times-circle"></i>
            </div>
            <p class="formulario__input-error">Los comentarios solo puede contener letras.</p>
          </div>
          
    
          <div class="formulario__mensaje" id="formulario__mensaje">
            <p><i class="fas fa-exclamation-triangle"></i> <b>Error:</b> Por favor rellena el formulario correctamente. </p>
          </div>
    
    
          <div class="formulario__grupo formulario__grupo-btn-enviar" value="Agregar">
            <input type="submit" class="formulario__btn">
            <p class="formulario__mensaje-exito" id="formulario__mensaje-exito">Formulario enviado exitosamente!</p>
            <br>

    
            
    
          </div>

          



        </form>
    
      </div>
    </div>


    <br>

    <div class="col-md-7">
       <input type="text" id="myInput" onkeyup="myFunction()" placeholder="BUSCAR APELLIDO." title="">
    </div>





    <div class="col-md-7">
      <table class="table table-striped table-hover table-bordered table-sm bg-white" id="myTable">
        <thead>
          <tr>
            
            <td>nombre</td>
            <td>apellido</td>
            <td>rut</td>
            <td>telefono</td>
            <td>direccion</td>
            <td>ciudad</td>
            <td>email</td>
            <td>fecha de naciemiento</td>
            <td>estado civil</td>
            <td>comentarios</td>
            <td>BORRAR PACIENTE</td>
          </tr>
        </thead>
        <tbody>
          {% for contact in contacts %}
          <tr>
            
            <td>{{contact.1}}</td>
            <td>{{contact.2}}</td>
            <td>{{contact.3}}</td>
            <td>{{contact.4}}</td>
            <td>{{contact.5}}</td>
            <td>{{contact.6}}</td>
            <td>{{contact.7}}</td>
            <td>{{contact.8}}</td>
            <td>{{contact.9}}</td>
            <td>{{contact.10}}</td>
            <td>
             
              <a href="/delete/{{contact.0}}" class="btn btn-danger btn-delete">Borrar</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>



{% endblock %}

